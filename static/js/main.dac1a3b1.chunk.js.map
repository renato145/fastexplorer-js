{"version":3,"sources":["Footer.js","socket/SocketFail.js","treestructure/icons.js","treestructure/Tree.js","treestructure/utils.js","treestructure/TreeLayout.js","viewers/ImageViewer.js","socket/SocketStatus.js","App.js","socket/useSocket.js","store/reducer.js","sagas/saga.js","index.js"],"names":["Footer","url","mail","style","width","className","color","paddingLeft","marginBottom","fontSize","href","target","Nav","Item","Link","reload","window","location","SocketFail","Alert","variant","Button","size","onClick","MinusSquareO","props","viewBox","d","PlusSquareO","CloseSquareO","Frame","styled","Title","Content","a","div","toggle","height","marginRight","cursor","verticalAlign","Tree","memo","data","level","name","nodes","shape","xtra","useState","open","isOpen","setOpen","previous","value","ref","useRef","useEffect","current","usePrevious","setWidth","setHeight","ro","useMemo","ResizeObserver","entries","entry","contentRect","element","observe","unobserve","useDimensions","viewHeight","useSpring","from","opacity","transform","to","Icon","toString","children","map","node","i","key","TreeLayout","console","log","ImageViewer","socket","loadInput","useCallback","send","JSON","stringify","event","SocketStatus","connect","state","msg","dispatch","onTestSaga","type","status","App","uri","setData","setStatus","WebSocket","onopen","client","onmessage","parse","onclose","useSocket","Container","fluid","Row","Col","sm","initialState","testSaga","watchTestSaga","rootSaga","delay","put","takeLatest","all","sagaMiddleWare","createSagaMiddleWare","store","createStore","action","newState","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.dac1a3b1.chunk.js","sourcesContent":["import React from 'react';\nimport { Nav } from 'react-bootstrap';\n\nexport const Footer = ({ url }) => {\n  const mail = 'renato.hermoza@pucp.edu.pe';\n  const social = 'renato145';\n\n  return (\n    <footer style={{ width: '100%' }} className=\"mt-5\">\n      <p style={{ color: '#6c757d', paddingLeft: '1rem', marginBottom: '0rem', fontSize: '0.9rem' }}>\n        Made by: Renato Hermoza, check the{' '}\n        <a href={`https://github.com/renato145/${url}`} target=\"_black\">\n          source code\n        </a>\n        .\n      </p>\n      <hr className=\"mt-2\" />\n      <Nav className=\"justify-content-center\">\n        <Nav.Item>\n          <Nav.Link href={`mailto:${mail}`}>{mail}</Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link href={`https://twitter.com/${social}`} target=\"_black\">\n            Twitter\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link href={`https://github.com/${social}`} target=\"_black\">\n            GitHub\n          </Nav.Link>\n        </Nav.Item>\n        <Nav.Item>\n          <Nav.Link href={`https://${social}.github.io`} target=\"_black\">\n            Blog\n          </Nav.Link>\n        </Nav.Item>\n      </Nav>\n    </footer>\n  );\n};\n","import React from 'react';\nimport { Alert, Button } from 'react-bootstrap';\n\nconst reload = () => window.location.reload(false);\n\nexport const SocketFail = () => {\n  return (\n    <>\n      <Alert variant=\"info\">\n        <p>\n          This utility is helps you visualize information about{' '}\n          <a href=\"https://dev.fast.ai/\">fastai2</a> models. To use this, you\n          need to launch the server in python via{' '}\n          <a href=\"https://renato145.github.io/fastexplorer/\">fastexplorer</a>.\n        </p>\n        <p>\n          Once you launch the server,{' '}\n          <Button variant=\"info\" size=\"sm\" onClick={reload}>\n            refresh\n          </Button>\n          {' '}this page.\n        </p>\n      </Alert>\n    </>\n  );\n};\n","import React from 'react';\n\nexport const MinusSquareO = (props) => (\n  <svg {...props} viewBox=\"64 -65 897 897\">\n    <g>\n      <path\n        d=\"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 347h-442q-14 0 -25 10.5t-11 25.5v0q0 15 11 25.5t25 10.5h442q14 0 25 -10.5t11 -25.5v0\n  q0 -15 -11 -25.5t-25 -10.5z\"\n      />\n    </g>\n  </svg>\n);\n\nexport const PlusSquareO = (props) => (\n  <svg {...props} viewBox=\"64 -65 897 897\">\n    <g>\n      <path\n        d=\"M888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0zM732 420h-184v183q0 15 -10.5 25.5t-25.5 10.5v0q-14 0 -25 -10.5t-11 -25.5v-183h-184\n  q-15 0 -25.5 -11t-10.5 -25v0q0 -15 10.5 -25.5t25.5 -10.5h184v-183q0 -15 11 -25.5t25 -10.5v0q15 0 25.5 10.5t10.5 25.5v183h184q15 0 25.5 10.5t10.5 25.5v0q0 14 -10.5 25t-25.5 11z\"\n      />\n    </g>\n  </svg>\n);\n\nexport const CloseSquareO = (props) => (\n  <svg {...props} viewBox=\"64 -65 897 897\">\n    <g>\n      <path\n        d=\"M717.5 589.5q-10.5 10.5 -25.5 10.5t-26 -10l-154 -155l-154 155q-11 10 -26 10t-25.5 -10.5t-10.5 -25.5t11 -25l154 -155l-154 -155q-11 -10 -11 -25t10.5 -25.5t25.5 -10.5t26 10l154 155l154 -155q11 -10 26 -10t25.5 10.5t10.5 25t-11 25.5l-154 155l154 155\n  q11 10 11 25t-10.5 25.5zM888 760v0v0v-753v0h-752v0v753v0h752zM888 832h-752q-30 0 -51 -21t-21 -51v-753q0 -29 21 -50.5t51 -21.5h753q29 0 50.5 21.5t21.5 50.5v753q0 30 -21.5 51t-51.5 21v0z\"\n      />\n    </g>\n  </svg>\n);\n","import React, { memo, useState } from 'react';\nimport styled from 'styled-components';\nimport { useSpring, a } from 'react-spring';\nimport { usePrevious, useDimensions } from './utils';\nimport { MinusSquareO, PlusSquareO, CloseSquareO } from './icons';\n\nconst Frame = styled('div')`\n  position: relative;\n  padding: 4px 0px 0px 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow-x: hidden;\n  vertical-align: middle;\n`;\n\nconst Title = styled('span')`\n  vertical-align: middle;\n`;\n\nconst Content = styled(a.div)`\n  margin-left: 6px;\n  padding: 0px 0px 0px 14px;\n  border-left: 2px dashed rgba(0, 0, 0, 0.25);\n  overflow: hidden;\n`;\n\nconst toggle = {\n  width: '1em',\n  height: '1em',\n  marginRight: 10,\n  cursor: 'pointer',\n  verticalAlign: 'middle',\n};\n\nexport const Tree = memo(({ data, level }) => {\n  const { name, nodes } = data;\n  const shape = data?.xtra?.shape;\n  const [isOpen, setOpen] = useState(data?.xtra?.open);\n  const previous = usePrevious(isOpen);\n  const { ref, height: viewHeight } = useDimensions();\n  const { height, opacity, transform } = useSpring({\n    from: { height: 0, opacity: 0, transform: 'translate3d(20px,0,0)' },\n    to: {\n      height: isOpen ? viewHeight : 0,\n      opacity: isOpen ? 1 : 0,\n      transform: `translate3d(${isOpen ? 0 : 20}px,0,0)`,\n    },\n  });\n  const Icon = nodes ? (isOpen ? MinusSquareO : PlusSquareO) : CloseSquareO;\n\n  return (\n    <Frame>\n      <Icon\n        style={{ ...toggle, opacity: nodes ? 1 : 0.3 }}\n        onClick={() => setOpen(!isOpen)}\n      />\n      <Title>\n        {name}\n        {shape ? ` [${shape.toString()}]` : ''}\n      </Title>\n      <Content\n        style={{\n          opacity,\n          height: isOpen && previous === isOpen ? 'auto' : height,\n        }}\n      >\n        <a.div\n          ref={ref}\n          style={{ transform }}\n          children={\n            nodes &&\n            nodes.map((node, i) => (\n              <Tree key={i} data={node} level={level + 1} />\n            ))\n          }\n        />\n      </Content>\n    </Frame>\n  );\n});\n","import { useRef, useEffect, useState, useMemo } from 'react';\nimport { ResizeObserver } from '@juggle/resize-observer';\n\nexport const usePrevious = (value) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n};\n\nexport const useDimensions = () => {\n  const ref = useRef();\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n\n  const ro = useMemo(\n    () =>\n      new ResizeObserver((entries) => {\n        const entry = entries[0];\n        setWidth(entry.contentRect.width);\n        setHeight(entry.contentRect.height);\n      }),\n    []\n  );\n\n  useEffect(() => {\n    const element = ref.current;\n    if (element) ro.observe(element);\n    return () => ro.unobserve(element);\n  }, [ro]);\n\n  return { ref, width, height };\n};\n\n// export function useMeasure() {\n//   const ref = useRef()\n//   const [bounds, set] = useState({ left: 0, top: 0, width: 0, height: 0 })\n//   const [ro] = useState(() => new ResizeObserver(([entry]) => set(entry.contentRect)))\n//   useEffect(() => {\n//     if (ref.current) ro.observe(ref.current)\n//     return () => ro.disconnect()\n//   }, [])\n//   return [{ ref }, bounds]\n// }\n","import React, { useCallback } from 'react';\nimport { Tree } from './Tree';\nimport { MinusSquareO, PlusSquareO } from './icons';\n\nconst toggle = {\n  width: '1.3em',\n  height: '1.3em',\n  marginTop: 10,\n  marginRight: 7,\n  cursor: 'pointer',\n  verticalAlign: 'middle',\n};\n\nexport const TreeLayout = ({ data }) => {\n  console.log(data);\n\n  return (\n    <div>\n      <Tree data={data} level={0} />\n      {/* <div>\n        <MinusSquareO style={{ ...toggle }} onClick={() => {}} />\n        <PlusSquareO style={{ ...toggle }} onClick={() => {}} />\n      </div> */}\n    </div>\n  );\n};\n","import React, { useCallback } from 'react';\nimport { Button } from 'react-bootstrap';\n\nexport const ImageViewer = ({socket}) => {\n  const loadInput = useCallback(() => {\n    socket.send(JSON.stringify({event: 'load_input'}));\n  }, [socket]);\n\n  return (\n    <div>\n      <Button onClick={loadInput}>Load Input</Button>\n    </div>\n  );\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'react-bootstrap';\n\nconst Component = ({ status, msg, onTestSaga }) => {\n  return (\n    <div>\n      <p>Socket status: {status}</p>\n      <p>{msg}</p>\n      <Button onClick={() => onTestSaga()}>click me</Button>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    msg: state.msg,\n  };\n};\n\nconst mapDispachToProps = (dispatch) => {\n  return {\n    onTestSaga: () => dispatch({ type: 'TEST_SAGA', value: 'asd' }),\n  };\n};\n\nexport const SocketStatus = connect(\n  mapStateToProps,\n  mapDispachToProps\n)(Component);\n","import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport { Footer } from './Footer';\nimport { useSocket } from './socket/useSocket';\nimport { SocketFail } from './socket/SocketFail';\nimport { TreeLayout } from './treestructure/TreeLayout';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.css';\nimport { ImageViewer } from './viewers/ImageViewer';\nimport { SocketStatus } from './socket/SocketStatus';\n\nconst uri = 'ws://localhost:8000/ws';\n\nfunction App() {\n  const { data, status, socket } = useSocket({ uri });\n\n  return (\n    <Container className=\"app-container\" fluid=\"xl\">\n      <header>\n        <h1 className=\"mt-4 mb-4\">Fast Explorer</h1>\n      </header>\n\n      <main>\n        <Row>\n          <Col>\n            <SocketStatus status={status} />\n          </Col>\n        </Row>\n        <Row className=\"justify-content-md-center\">\n          {data ? (\n            <>\n              <Col sm=\"auto\">\n                <TreeLayout data={data} />\n              </Col>\n              <Col>\n                <ImageViewer socket={socket} />\n              </Col>\n            </>\n          ) : (\n            <SocketFail />\n          )}\n        </Row>\n      </main>\n\n      <Footer url=\"fastexplorer-js\" />\n    </Container>\n  );\n}\n\nexport default App;\n","import { useMemo, useState } from 'react';\n\n// TODO:\n// Reconnect socket\n// Use redux to manage data\n\nexport const useSocket = ({ uri }) => {\n  const [data, setData] = useState();\n  const [status, setStatus] = useState('waiting');\n  const socket = useMemo(() => {\n    const socket = new WebSocket(uri);\n\n    socket.onopen = () => {\n      console.log('socket connected.');\n      setStatus('connected')\n      socket.send(JSON.stringify({ client: 'web_client' }));\n    };\n\n    socket.onmessage = (event) => {\n      const msg = JSON.parse(event.data);\n      switch (msg.event) {\n        case 'representation_data':\n          setData(JSON.parse(msg.msg));\n          break;\n        case 'close':\n          // closeMessage = ` (${msg.msg}).`;\n          break;\n        case 'invalid_event':\n          console.log(`Event not accepted by server: ${msg.msg}.`)\n          break;\n        default:\n          console.log(`Invalid event: ${msg.event}.`);\n      }\n    };\n\n    socket.onclose = () => {\n      console.log('socket closed.');\n      setStatus('disconnected');\n    };\n\n    return socket;\n  }, [uri]);\n\n  return { data, socket, status };\n};\n","const initialState = {\n  msg: '-'\n};\n\nexport const reducer = (state = initialState, action) => {\n  const newState = { ...state };\n\n  switch (action.type) {\n    case 'TEST_SAGA':\n      newState.msg = 'NEW'+action.value;\n      break;\n\n    default:\n      break;\n  }\n  return newState;\n};\n","import { all, put, takeLatest, delay } from 'redux-saga/effects';\n\nfunction* testSaga() {\n  yield delay(1000);\n  yield put({type: 'TEST_SAGA'});\n}\n\nfunction* watchTestSaga() {\n  yield takeLatest('TEST_SAGA_ASYNC', testSaga);\n}\n\nexport function* rootSaga() {\n  yield all([\n    watchTestSaga(),\n  ]);\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { reducer } from './store/reducer'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware} from 'redux';\nimport createSagaMiddleWare from 'redux-saga';\nimport { rootSaga} from './sagas/saga'\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\n\nconst sagaMiddleWare = createSagaMiddleWare();\nconst store = createStore(reducer, applyMiddleware(sagaMiddleWare));\nsagaMiddleWare.run(rootSaga);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}